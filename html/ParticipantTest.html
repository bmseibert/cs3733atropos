<html><head>
<!-- Paths (Insert Paths to JavaScript Files) -->

<script type='text/javascript' src='../js/api.js'></script>
<script type='text/javascript' src='../js/showSegments.js'></script>
<script type='text/javascript' src='../js/showPlaylists.js'></script>
<script type='text/javascript' src='../js/upload.js'></script>
<script type='text/javascript' src='../js/createPlaylist.js'></script>
<script type='text/javascript' src='../js/search.js'></script>
<script type='text/javascript' src='../js/deletePlaylist.js'></script>
<script type='text/javascript' src='../js/appendToPlaylist.js'></script>
<script type='text/javascript' src='../js/removeFromPlaylist.js'></script>

<script type="text/javascript">
function initialize() {
  
	// This is our initialization for the Main
	
   // get all constants
   // refreshConstantsList();
}

</script></head><body onload="initialize()">
<h1>Participant Page</h1>
<h3>Create Playlist</h3>
<form name="createPlaylist" method="post">
Enter Playlist Name: <input type="text" value="" name="playlist"><br>
<button type="button" value="Submit" onClick="JavaScript:handleCreatePlaylistClick(this)">Create Playlist</button>
</form>

<h3>Delete Playlist</h3>
<form name="deletePlaylist" method="post">
Enter Playlist Name: <input type="text" value="" name="playlist"><br>
<button type="button" value="submit" onClick="JavaScript:handleDeletePlaylistClick(this)">Delete Playlist</button>
</form>

<h3>List Playlists<!--Text--></h3>
<form name="showPlaylistsForm" method="get" style="width: 10px; height: 10px"> 
	<input type="button" value="Show Playlists" onClick="JavaScript:handleShowPlaylistsClick(this)">
</form>

<div id="playlistList"></div>
<h3>Upload Video Segment</h3>
<form name="uploadForm" method="post">
   <input name="characterName" value="characterName" />
   <input name="characterQuote" value="characterQuote" />
   <input name="base64EncodedValue" hidden value=""/>
   Select a segment in file: <input type="file" id="segmentFile" name="segmentFile">
   <input type="button" id="uploadButton" value="Upload Segment" disabled onClick="JavaScript:handleCreateClick(this)">
</form>

<script>
function getBase64(file) {
	var reader = new FileReader();
	reader.readAsDataURL(file);

	reader.onload = function () {
	  document.uploadForm.base64EncodedValue.value = reader.result;
	  document.uploadForm.uploadButton.disabled = false;
	};
  }
  
// When file is selected, stash base64 value in the encoding field.  
function handleFileSelect(evt) {
  var files = evt.target.files; 
  if (files[0].size > 750000) {  // make as large or small as you need
  	document.uploadForm.base64EncodedValue.value = "";
  	alert("File size too large to use:" + files[0].size + " bytes");
  } else {
  	getBase64(files[0]); // request the load (async)
  }
}

// register
document.getElementById('segmentFile').addEventListener('change', handleFileSelect, false);
</script>


<h3>Add/Remove Segments from Playlist</h3>
<form name="addSegmentForm" method="post">
  Playlist Name:
  <input type="text" name="playlistName" value="playlistName" />
  Segment Name:
  <input type="text" name="segmentName" value="segmentName"/>
  <input type="button" id="addSegmentButton" value="Add Segment" onClick="JavaScript:handleAppendToPlaylistClick(this)"/>
  <input type="button" id="removeSegmentButton" value="Remove Segment" onClick="JavaScript:handleRemoveFromPlaylistClick(this)"/>
</form>
<h3>Search for Video Segments</h3>

<form name="searchSegmentsForm" method="post">
  <input type="text" name="phrase" placeholder="Search Segments by Phrase.." value="">
  <input type="text" name="character" placeholder="Search Segments by Character.." value="">
  <input type="button" id="submit" value="Search" onClick="JavaScript:handleSearchSegments(this)"/>
  
  Remote
  <input type="checkbox" name="remote">
  
</form>

<div id="searchResults"></div>

<h3>List Video Segments <!--Text--></h3> 
   

<form name="showSegmentsForm" method="post">
  <!-- Button For Show Segments -->
  <!--  <video id="num0" width="320" height="240" controls>
  <source src="" type="video/ogg">
	Your browser does not support the video tag.
</video> -->

  <input type="button" value="Show Segments" onClick="JavaScript:handleShowSegmentsClick(this)"/>
  Remote
  <input type="checkbox" name="remote"/>
  <!-- input type="text" name="result" style="width: 486px; height: 232px; "-->
  
  
</form>

<div id="segmentList"></div>
<div id="bottom"></div>

</body>
</html>